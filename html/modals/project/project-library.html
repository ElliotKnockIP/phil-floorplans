<div class="modal custom-modal" id="projectLibraryModal" tabindex="-1" aria-labelledby="projectLibraryModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <div class="modal-header-content">
          <div class="modal-header-left">
            <h1 class="modal-title fs-4" id="projectLibraryModalLabel">Project Library</h1>
          </div>
          <div class="modal-header-right nav-buttons">
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
        </div>
      </div>
      <div class="modal-body">
        <div class="project-gallery-container">
          <!-- Recent Projects Section -->
          <div class="gallery-section" id="projects-section">
            <div class="gallery-section-header">
              <h3 class="gallery-section-title">Recent Projects</h3>
            </div>
            <div class="gallery-toolbar mb-3">
              <div class="d-flex justify-content-between align-items-center flex-wrap gap-2">
                <div class="d-flex gap-2 align-items-center" style="flex: 1; min-width: 0">
                  <input type="text" class="form-control" id="project-search" placeholder="Search projects..." style="flex: 1; min-width: 300px" />
                  <button class="view-all-btn" id="view-all-projects-btn">View All Projects</button>
                  <button class="view-all-btn minimize-btn" id="minimize-projects-btn" style="display: none">Show Less</button>
                </div>
                <div class="d-flex gap-2">
                  <button class="btn btn-primary" id="save-current-project-btn">Save Current Project</button>
                </div>
              </div>
            </div>
            <div class="gallery-grid-wrapper">
              <div class="projects-grid" id="projects-grid">
                <!-- Projects will be dynamically loaded here -->
              </div>
            </div>
            <div class="empty-state" id="projects-empty-state" style="display: none">
              <div class="text-center py-5">
                <p class="mt-3 text-muted">No saved projects yet. Save your first project to get started!</p>
              </div>
            </div>
          </div>

          <!-- Templates Section -->
          <div class="gallery-section" id="templates-section">
            <div class="gallery-section-header">
              <h3 class="gallery-section-title">Templates</h3>
            </div>
            <div class="gallery-toolbar mb-3">
              <div class="d-flex justify-content-between align-items-center flex-wrap gap-2">
                <div class="d-flex gap-2 align-items-center" style="flex: 1; min-width: 0">
                  <input type="text" class="form-control" id="template-search" placeholder="Search templates..." style="flex: 1; min-width: 300px" />
                  <button class="view-all-btn" id="view-all-templates-btn">View All Templates</button>
                  <button class="view-all-btn minimize-btn" id="minimize-templates-btn" style="display: none">Show Less</button>
                </div>
                <div>
                  <button class="btn btn-primary" id="save-as-template-btn">Save Current as Template</button>
                </div>
              </div>
            </div>
            <div class="gallery-grid-wrapper">
              <div class="templates-grid" id="templates-grid">
                <!-- Templates will be dynamically loaded here -->
              </div>
            </div>
            <div class="empty-state" id="templates-empty-state" style="display: none">
              <div class="text-center py-5">
                <p class="mt-3 text-muted">No templates yet. Save your current project as a template to get started!</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
