<!-- Device Properties Popover -->
<div class="property-popover" id="device-popover" style="display: none">
  <div class="popover-arrow"></div>
  <div class="popover-header">
    <span id="device-popover-title">Device Properties</span>
    <button id="device-popover-close" style="background: none; border: none; color: white; cursor: pointer; font-size: 18px">X</button>
  </div>

  <div class="panel-navigation">
    <div class="nav-item active" data-panel="details">Details</div>
    <div class="nav-item" data-panel="spec">Spec</div>
    <div class="nav-item" data-panel="coverage">Coverage</div>
    <div class="nav-item" data-panel="style">Style</div>
  </div>

  <div class="sliding-panels">
    <!-- Panel: Details -->
    <div class="slide-panel active" data-panel="details">
      <div id="device-details-panel">
        <div class="form-group">
          <label for="device-label-input" class="form-label">Device Name:</label>
          <input type="text" class="form-control form-control-sm" id="device-label-input" placeholder="Enter device name" />
        </div>

        <div class="form-group">
          <label for="fitting-positions" class="form-label">Mounted:</label>
          <select class="form-control form-control-sm" id="fitting-positions">
            <option>Select</option>
            <option value="top-left">Top Left</option>
            <option value="top-center">Top Center</option>
            <option value="top-right">Top Right</option>
            <option value="right-center">Right Center</option>
            <option value="bottom-right">Bottom Right</option>
            <option value="bottom-center">Bottom Center</option>
            <option value="bottom-left">Bottom Left</option>
            <option value="left-center">Left Center</option>
          </select>
        </div>

        <div class="form-group">
          <label for="device-location-input" class="form-label">Device Location:</label>
          <input type="text" class="form-control form-control-sm" id="device-location-input" placeholder="Enter Location" />
        </div>

        <div class="form-group">
          <label for="device-part-number-input" class="form-label">Part Number:</label>
          <input type="text" class="form-control form-control-sm" id="device-part-number-input" placeholder="Enter Part Number" />
        </div>

        <div class="form-group">
          <label for="device-stock-number-input" class="form-label">Stock Number:</label>
          <input type="text" class="form-control form-control-sm" id="device-stock-number-input" placeholder="Enter Stock Number" />
        </div>

        <div class="form-group" id="device-channel-info-group" style="display: none">
          <span class="form-label">Panel Channel:</span>
          <div id="device-channel-info" class="form-text" style="padding: 8px; background: #f0f0f0; border-radius: 4px; color: #333; font-weight: 500"></div>
        </div>

        <div class="form-group">
          <label for="device-focal-length-input" class="form-label">Focal Length:</label>
          <input type="text" class="form-control form-control-sm" id="device-focal-length-input" placeholder="e.g. 2.8mm" />
        </div>

        <div class="form-group">
          <label for="device-sensor-size-input" class="form-label">CMOS Sensor Size:</label>
          <select class="form-control form-control-sm" id="device-sensor-size-input">
            <option value="">Select sensor size</option>
            <option value="1/1.1">1/1.1"</option>
            <option value="1/1.2">1/1.2"</option>
            <option value="2/3">2/3"</option>
            <option value="1/1.6">1/1.6"</option>
            <option value="1/1.7">1/1.7"</option>
            <option value="1/1.8">1/1.8"</option>
            <option value="1/1.9">1/1.9"</option>
            <option value="1/2.0" selected>1/2.0"</option>
            <option value="1/2.3">1/2.3"</option>
            <option value="1/2.5">1/2.5"</option>
            <option value="1/2.7">1/2.7"</option>
            <option value="1/2.8">1/2.8"</option>
            <option value="1/2.9">1/2.9"</option>
            <option value="1/3.0">1/3.0"</option>
            <option value="1/3.2">1/3.2"</option>
            <option value="1/3.4">1/3.4"</option>
            <option value="1/3.6">1/3.6"</option>
            <option value="1/4.0">1/4.0"</option>
            <option value="1/5.0">1/5.0"</option>
            <option value="1/6.0">1/6.0"</option>
            <option value="1/7.5">1/7.5"</option>
          </select>
        </div>

        <div class="form-group">
          <label for="device-resolution-input" class="form-label">Resolution:</label>
          <input type="text" class="form-control form-control-sm" id="device-resolution-input" placeholder="e.g. 1920x1080" />
        </div>
      </div>
    </div>

    <!-- Panel: Spec -->
    <div class="slide-panel" data-panel="spec">
      <div id="device-spec-panel">
        <div class="form-group">
          <label for="device-ip-address-input" class="form-label">IP Address:</label>
          <input type="text" class="form-control form-control-sm" id="device-ip-address-input" placeholder="e.g. 192.168.1.10" />
        </div>

        <div class="form-group">
          <label for="device-subnet-input" class="form-label">Subnet:</label>
          <input type="text" class="form-control form-control-sm" id="device-subnet-input" placeholder="e.g. 255.255.255.0" />
        </div>

        <div class="form-group">
          <label for="device-gateway-input" class="form-label">Gateway Address:</label>
          <input type="text" class="form-control form-control-sm" id="device-gateway-input" placeholder="e.g. 192.168.1.1" />
        </div>

        <div class="form-group">
          <label for="device-mac-address-input" class="form-label">MAC Address:</label>
          <input type="text" class="form-control form-control-sm" id="device-mac-address-input" placeholder="e.g. AA:BB:CC:DD:EE:FF" />
        </div>
      </div>
    </div>

    <!-- Panel: Coverage (Camera only) -->
    <div class="slide-panel" data-panel="coverage">
      <div id="camera-properties">
        <div class="checkbox-group">
          <input class="form-check-input" type="checkbox" id="camera-coverage-toggle" checked />
          <label class="form-check-label" for="camera-coverage-toggle">Show Camera Coverage</label>
        </div>

        <div class="checkbox-group">
          <input class="form-check-input" type="checkbox" id="camera-aspect-ratio-toggle" />
          <label class="form-check-label" for="camera-aspect-ratio-toggle">Aspect Ratio (9:16)</label>
        </div>

        <div class="checkbox-group">
          <input class="form-check-input" type="checkbox" id="camera-dori-toggle" checked />
          <label class="form-check-label" for="camera-dori-toggle">Show DORI Zones</label>
        </div>

        <div class="checkbox-group">
          <input class="form-check-input" type="checkbox" id="camera-lock-distance-on-rotate" />
          <label class="form-check-label" for="camera-lock-distance-on-rotate">Lock Distance on Rotate</label>
        </div>

        <div class="form-group">
          <label for="camera-angle-slider" class="form-label">Coverage Angle (°):</label>
          <div class="slider-group">
            <input type="range" class="form-range flex-grow-1 slider" id="camera-angle-slider" min="1" max="360" step="1" value="90" />
            <input type="number" id="camera-angle-input" class="slider-value number-input" min="1" max="360" step="1" value="90" />
          </div>
        </div>

        <div class="form-group" style="text-align: center; margin-bottom: 15px">
          <canvas id="camera-side-view" width="280" height="200" style="background: #fff; border-radius: 4px; border: 1px solid #dee2e6"></canvas>
        </div>

        <div class="form-group">
          <label for="camera-height-slider" class="form-label">Camera Height (m):</label>
          <div class="slider-group">
            <input type="range" class="form-range flex-grow-1 slider" id="camera-height-slider" min="1" max="20" step="0.1" value="3" />
            <input type="number" id="camera-height-input" class="slider-value number-input" min="1" max="20" step="0.1" value="3.0" />
          </div>
        </div>

        <div class="form-group">
          <label for="camera-tilt-slider" class="form-label">Camera Tilt (°):</label>
          <div class="slider-group">
            <input type="range" class="form-range flex-grow-1 slider" id="camera-tilt-slider" min="0" max="90" step="0.1" value="0" />
            <input type="number" id="camera-tilt-input" class="slider-value number-input" min="0" max="90" step="0.1" value="0" />
          </div>
        </div>

        <div class="form-group">
          <label for="camera-distance-slider" class="form-label">Coverage Distance (m):</label>
          <div class="slider-group">
            <input type="range" class="form-range flex-grow-1 slider" id="camera-distance-slider" min="1" max="500" step="0.1" value="10" />
            <input type="number" id="camera-distance-input" class="slider-value number-input" min="1" max="500" step="0.1" value="10" />
          </div>
        </div>

        <div class="form-group">
          <label for="camera-opacity-slider" class="form-label">Coverage Opacity:</label>
          <div class="slider-group">
            <input type="range" class="form-range flex-grow-1 slider" id="camera-opacity-slider" min="0.01" max="1" step="0.01" value="0.25" />
            <input type="number" id="camera-opacity-input" class="slider-value number-input" min="1" max="100" step="1" value="25" />
          </div>
        </div>

        <div class="form-group">
          <label for="camera-edge-style" class="form-label">Coverage Edge Style:</label>
          <select class="form-control form-control-sm" id="camera-edge-style">
            <option value="solid">Solid</option>
            <option value="dashed">Dashed</option>
            <option value="dotted">Dotted</option>
          </select>
        </div>

        <div class="form-group">
          <label for="camera-projection-mode" class="form-label">Coverage Projection:</label>
          <select class="form-control form-control-sm" id="camera-projection-mode">
            <option value="circular">Circular</option>
            <option value="rectangular">Rectangular</option>
          </select>
        </div>

        <div class="form-group">
          <span class="form-label">Coverage Colour:</span>
          <div class="color-grid change-coverage-colour">
            <div class="colour-icon" data-color="#a59b9b" style="background-color: #a59b9b"></div>
            <div class="colour-icon" data-color="#000000" style="background-color: #000000"></div>
            <div class="colour-icon" data-color="#305CDE" style="background-color: #305cde"></div>
            <div class="colour-icon" data-color="#2E6F40" style="background-color: #2e6f40"></div>
            <div class="colour-icon" data-color="#6a0dad" style="background-color: #6a0dad"></div>
            <div class="colour-icon" data-color="#8b0000" style="background-color: #8b0000"></div>
            <div class="colour-icon" data-color="#008B8B" style="background-color: #008b8b"></div>
            <div class="colour-picker-icon">
              <input type="color" id="coverage-color-picker" />
              <span class="color-picker-emoji"><img src="./images/icons/colour-palette.svg" alt="Colour Palette" /></span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Panel: Style (merged Label and Icon) -->
    <div class="slide-panel" data-panel="style">
      <!-- Icon Selection Section -->
      <div class="mb-3 camera-icons-section">
        <span class="form-label">Camera Icon:</span>
        <div class="change-camera-icons d-flex justify-content-around align-items-center bg-light p-2 rounded mt-2">
          <img src="./images/devices/fixed-camera.png" alt="Fixed Camera Icon" />
          <img src="./images/devices/ptz-camera.png" alt="PTZ Camera Icon" />
          <img src="./images/devices/box-camera.png" alt="Box Camera Icon" />
          <img src="./images/devices/dome-camera.png" alt="Dome Camera Icon" />
          <img src="./images/devices/bullet-camera.png" alt="Bullet Camera Icon" />
          <img src="./images/devices/thermal-camera.png" alt="Thermal Camera Icon" />
        </div>
      </div>

      <div class="mb-3 device-icons-section" style="display: none">
        <span class="form-label">Device Icon:</span>
        <div class="change-device-icons d-flex justify-content-around align-items-center bg-light p-2 rounded mt-2">
          <img src="./images/devices/access-system.png" alt="Access System Icon" />
          <img src="./images/devices/intruder-alarm.png" alt="Intruder Alarm Icon" />
          <img src="./images/devices/fire-alarm.png" alt="Fire Alarm Icon" />
          <img src="./images/devices/emergency-exit.png" alt="Emergency Exit Icon" />
          <img src="./images/devices/fire-extinguisher.png" alt="Fire Extinguisher Icon" />
          <img src="./images/devices/door-entry.png" alt="Door Entry Icon" />
        </div>
      </div>

      <!-- Icon Color -->
      <div class="form-group">
        <span class="form-label">Device Icon Colour:</span>
        <div class="color-grid change-icon-colour">
          <div class="colour-icon" data-color="#fe8800" style="background-color: #fe8800"></div>
          <div class="colour-icon" data-color="#00ffff" style="background-color: #00ffff"></div>
          <div class="colour-icon" data-color="#fe0000" style="background-color: #fe0000"></div>
          <div class="colour-icon" data-color="#66ff00" style="background-color: #66ff00"></div>
          <div class="colour-icon" data-color="#ff00ff" style="background-color: #ff00ff"></div>
          <div class="colour-icon" data-color="#FFDE21" style="background-color: #ffde21"></div>
          <div class="colour-icon" data-color="#00ff7f" style="background-color: #00ff7f"></div>
          <div class="colour-picker-icon">
            <input type="color" id="icon-color-picker" />
            <span class="color-picker-emoji"><img src="./images/icons/colour-palette.svg" alt="Colour Palette" /></span>
          </div>
        </div>
      </div>

      <!-- Icon Size -->
      <div class="form-group">
        <label for="icon-size-slider" class="form-label">Icon Size (px):</label>
        <div class="slider-group">
          <input type="range" class="form-range flex-grow-1 slider" id="icon-size-slider" min="1" max="100" step="1" value="50" />
          <span id="icon-size-input" class="slider-value">50px</span>
        </div>
      </div>
      <div id="generic-properties">
        <div class="form-group">
          <span class="form-label">Device Text Colour:</span>
          <div class="color-grid device-text-colour">
            <div class="colour-icon" data-color="#bcb8b1" style="background-color: #bcb8b1"></div>
            <div class="colour-icon" data-color="#48bfe3" style="background-color: #48bfe3"></div>
            <div class="colour-icon" data-color="#74c69d" style="background-color: #74c69d"></div>
            <div class="colour-icon" data-color="#ffbe0b" style="background-color: #ffbe0b"></div>
            <div class="colour-icon" data-color="#ff6f42" style="background-color: #ff6f42"></div>
            <div class="colour-icon" data-color="#a2d2ff" style="background-color: #a2d2ff"></div>
            <div class="colour-icon" data-color="#cdb4db" style="background-color: #cdb4db"></div>
            <div class="colour-picker-icon">
              <input type="color" id="device-text-color-picker" />
              <span class="color-picker-emoji"><img src="./images/icons/colour-palette.svg" alt="Colour Palette" /></span>
            </div>
          </div>
        </div>

        <div class="form-group">
          <span class="form-label">Device Background Text Colour:</span>
          <div class="color-grid device-background-text-colour">
            <div class="colour-icon" data-color="#000000" style="background-color: #000000"></div>
            <div class="colour-icon" data-color="#4A4A4A" style="background-color: #4a4a4a"></div>
            <div class="colour-icon" data-color="#B22222" style="background-color: #b22222"></div>
            <div class="colour-icon" data-color="#228B22" style="background-color: #228b22"></div>
            <div class="colour-icon" data-color="#1E3A8A" style="background-color: #1e3a8a"></div>
            <div class="colour-icon" data-color="#5B2C6F" style="background-color: #5b2c6f"></div>
            <div class="colour-icon" data-color="#2F4F4F" style="background-color: #2f4f4f"></div>
            <div class="colour-picker-icon">
              <input type="color" id="device-background-text-color-picker" />
              <span class="color-picker-emoji"><img src="./images/icons/colour-palette.svg" alt="Colour Palette" /></span>
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="icon-rotation-slider" class="form-label">Icon Rotation:</label>
          <div class="slider-group">
            <input type="range" class="form-range flex-grow-1 slider" id="icon-rotation-slider" min="0" max="360" step="1" value="0" />
            <span id="icon-rotation-input" class="slider-value">0°</span>
          </div>
        </div>

        <!-- Show Device Name Toggle -->
        <div class="checkbox-group">
          <input class="form-check-input" type="checkbox" id="device-label-toggle" checked />
          <label class="form-check-label" for="device-label-toggle">Show Device Name</label>
        </div>
      </div>
    </div>
  </div>
</div>
